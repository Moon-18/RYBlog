# 操作系统

整理自王道

[toc]

# 概述

## 基本概念

## 操作系统发展和分类

## 运行环境

## 体系结构



# 进程管理

## 进程和线程

### 进程概念

#### 为什么?

多道程序环境下，允许多道程序并发执行，此时他们失去封闭性，并具有间断性和不可再现性的特征，因此引入了进程的概念，以便更好的描述和控制系统的并发执行，实现操作系统的并发性和共享性

#### 是什么？

为了使参与并发执行的程序能独立的运行，必须配备一个专门的数据结构，称为进程控制块PCB，系统利用PCB来描述进程的基本情况和运行状况，进而控制和管理进程。

由程序段，数据段，PCB三部分构成了进程映像（进程实体）。PCB是进程存在的唯一标志。

进程是进程实体的运行过程，是系统进行资源分配和调度的独立单位。

#### 特征？

动态性

并发性

独立性

异步性

结构性

#### 状态和转换

创建态

运行态

就绪态

阻塞态

结束态



### 进程通信

共享存储

消息传递

管道通信



### 线程概念

引入进程的目的是更好的使多道程序并发执行，提高资源利用率和系统吞吐量；

引入线程是减少程序在并发执行时所付出的时空开销，提高系统的并发性能。

线程是进程的一个实体，是系统独立调度和分配的基本单位，线程自身不拥有系统资源，只有一点在运行时必不可少的资源，但她可以和同一个进程的其他线程共享进程所拥有的全部资源。

线程最直接的理解就是轻量级进程，它是一个基本的CPU执行单元，也是程序执行流的最小单元。

#### 实现方式

- 用户级线程

- 内核级线程

多线程模型

- 一对一
- 一对多
- 多对多

## 处理机调度

### 概念

进程数量往往多于处理机数量，因此进程会争用处理机

### 层次

- 作业调度
- 内存调度
- 进程调度



### 调度算法

先来先服务（FCFS）

短作业优先（SJF）

优先级调度

高响应比优先调度

时间片轮转调度算法

多级反馈队列调度算法





## 进程同步

### 概念

多道程序环境下，进程是并发执行的，不同进程之间存在不同的制约关系，为了协调，引入了进程同步的概念。



- 临界资源
- 同步
- 互斥

### 实现互斥的方法

软件方法：单标志位，双标志位先，~后，皮特森算法

硬件方法：中断屏蔽方法，硬件指令方法



### 信号量机制

由两个标准的原语wait(S),signal(S)

整形信号量

记录型信号量



### 管程

用共享数据结构抽象表示系统的共享资源。代表共享资源的数据结构，以及由对该共享数据结构实施操作的一组过程所组成的资源管理程序，称作管程。

- 管程的名称
- 内部的共享数据结构说明
- 操作数据结构的函数
- 初始化语句



## 死锁

多个进程因为竞争资源造成的一种僵局（相互等待）

### 产生条件

- 互斥
- 不剥夺
- 请求并保持
- 循环等待

### 处理策略

死锁预防

破坏必要条件之一即可，



死锁避免

银行家算法与安全检测算法



死锁检测和解除

死锁分配图

死锁定理









# 内存管理

## 内存管理





## 虚拟内存管理



# 文件管理

# 输入输出管理